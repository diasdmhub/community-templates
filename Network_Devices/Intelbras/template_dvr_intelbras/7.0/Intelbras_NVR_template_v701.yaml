zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: 36bff6c29af64692839d077febfc7079
      name: 'Templates/Network devices'
  templates:
    - uuid: c3b8aef8c6d24ee493fc7f1d698cfc71
      template: 'Intelbras Dahua NVR SNMP'
      name: 'Intelbras Dahua NVR SNMP'
      description: |
        Intelbras/Dahua NVR template.
        
        For Zabbix 5.4 and higher.
        
        By Diasdm
        https://github.com/diasdmhub/Intelbras_NVR_Zabbix_Template
      vendor:
        name: diasdm
        version: 7.0-1
      groups:
        - name: 'Templates/Network devices'
      items:
        - uuid: 9fdc05f7a808453cadd6090b49930a3a
          name: 'Device contact details'
          type: DEPENDENT
          key: 'device.contact[sysContact]'
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            Identificação de contato do responsável pelo dispositivo
            
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person. If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.2.1.1.4.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: general.system.walk
          tags:
            - tag: Device
              value: general
        - uuid: 1c3f4f8993ea407c8796ea299bd74c36
          name: 'Device description'
          type: DEPENDENT
          key: 'device.descr[sysDescr]'
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            Descrição do dispositivo
            
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          inventory_link: NOTES
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.2.1.1.1.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: general.system.walk
          tags:
            - tag: Device
              value: general
        - uuid: e861b80b0a91478886046b98e1c1b73a
          name: 'Device location'
          type: DEPENDENT
          key: 'device.location[sysLocation]'
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            A localização física do dispositivo
            
            MIB: SNMPv2-MIB
            The physical location of this node (telephone closet, 3rd floor)
            If the location is unknown, the value is the zero-length string
          inventory_link: LOCATION
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.2.1.1.6.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: general.system.walk
          tags:
            - tag: Device
              value: general
        - uuid: 83fa01fe8049481f808e0dd9ca477422
          name: 'Device name'
          type: DEPENDENT
          key: device.name
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            Nome administrativo do dispositivo. Por convenção, deve o nome de domínio totalmente qualificado
            
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name. If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.2.1.1.5.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: general.system.walk
          tags:
            - tag: Device
              value: general
          triggers:
            - uuid: c6349c2779c94046abf8fdc996d7ff79
              expression: 'change(/Intelbras Dahua NVR SNMP/device.name)=1 and length(last(/Intelbras Dahua NVR SNMP/device.name))>0'
              name: 'System name has changed'
              opdata: 'New name: {ITEM.VALUE}'
              priority: INFO
              description: |
                O nome do dispositivo foi alterado
                Evento com fechamento manual
                Manual close event
              manual_close: 'YES'
              tags:
                - tag: Name
                  value: changed
        - uuid: 9451b00c5db743db84baa9cfcdea31f9
          name: 'CPU Usage'
          type: DEPENDENT
          key: enterprises.cpuUsage
          delay: '0'
          history: 7d
          units: '%'
          description: |
            Uso da CPU em percentual
            Percent CPU usage
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.3.0
                - '0'
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 5d2df2d2003b4dcf9583de1d37df9c1d
              expression: 'avg(/Intelbras Dahua NVR SNMP/enterprises.cpuUsage,#3)>91'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Intelbras Dahua NVR SNMP/enterprises.cpuUsage,#3)<90'
              name: 'CPU High Utilization'
              opdata: 'Current: {ITEM.LASTVALUE}'
              priority: HIGH
              description: 'Alta utilização de CPU do dispositivo'
              tags:
                - tag: CPU
                  value: high
        - uuid: a7e4eeab5e204d86aaef95bedc867aa1
          name: 'Device Status'
          type: DEPENDENT
          key: enterprises.deviceStatus
          delay: '0'
          history: 7d
          trends: '0'
          description: |
            Status do dispositivo
            0 (bad)
            1 (good)
          valuemap:
            name: 'NVR Device Status'
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.2.8.0
                - '0'
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 2e9b93f0b584449d9a5c17cac3f14fe1
              expression: 'last(/Intelbras Dahua NVR SNMP/enterprises.deviceStatus)=0'
              name: 'Device Status Changed to Bad'
              opdata: 'Status: {ITEM.VALUE}'
              priority: HIGH
              description: |
                Dispositivo com status divergente
                1 = Good
                0 = Bad
              tags:
                - tag: Status
                  value: bad
        - uuid: 0bf7b2d975fc44419f97e0008c5e5de2
          name: 'Device Type'
          type: DEPENDENT
          key: enterprises.deviceType
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            Modelo do dispositivo
            The device model
          inventory_link: TYPE
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.2.6.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: Device
              value: general
        - uuid: 26a925a7f30d4dd69b5b7da4998c0d15
          name: 'Uptime Enterprise'
          type: DEPENDENT
          key: enterprises.deviceUpTime
          delay: '0'
          history: 7d
          trends: '0'
          units: uptime
          description: |
            UpTime desde a ultima reinicializacao
            UpTime since the last reboot
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.6.0
                - '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 2010c085fc354774ad104913f2f073b2
              expression: 'last(/Intelbras Dahua NVR SNMP/enterprises.deviceUpTime)<10m'
              name: 'System has been restarted (uptime less than 10m)'
              opdata: 'Uptime: {ITEM.LASTVALUE}'
              priority: WARNING
              manual_close: 'YES'
              dependencies:
                - name: 'No SNMP data collection'
                  expression: 'max(/Intelbras Dahua NVR SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              tags:
                - tag: System
                  value: restarted
        - uuid: d92ecf6475014c4584c7a5e693113796
          name: 'Device Walk Network'
          type: SNMP_AGENT
          snmp_oid: 'walk[.1.3.6.1.2.1.2.2.1.2,.1.3.6.1.2.1.2.2.1.3,.1.3.6.1.2.1.2.2.1.5,.1.3.6.1.2.1.2.2.1.7,.1.3.6.1.2.1.2.2.1.8,.1.3.6.1.2.1.2.2.1.10,.1.3.6.1.2.1.2.2.1.13,.1.3.6.1.2.1.2.2.1.14,.1.3.6.1.2.1.2.2.1.16,.1.3.6.1.2.1.2.2.1.19,.1.3.6.1.2.1.2.2.1.20,.1.3.6.1.2.1.31.1.1.1.1]'
          key: enterprises.ifEntry.walk
          delay: 3m
          history: '0'
          trends: '0'
          value_type: TEXT
          description: |
            SNMP Walk nas sub-árvores do storage do dispositvo
            Device storage sub-trees SWNP Walk
          timeout: 15s
          tags:
            - tag: SNMP
              value: walk
        - uuid: c5245c9c006a4054b14beb7c7b091adb
          name: 'Device IP'
          type: DEPENDENT
          key: enterprises.ipAddr
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            Endereço IP do dispositivo
            Device's IP Address
          inventory_link: HOST_NETWORKS
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.2.2.8.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 2h
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: Device
              value: general
          triggers:
            - uuid: 7d91eda4419147ad892b8cec56b707e7
              expression: 'change(/Intelbras Dahua NVR SNMP/enterprises.ipAddr)=1'
              name: 'Device IP changed'
              opdata: 'Current IP: {ITEM.VALUE}'
              priority: WARNING
              description: 'IP do dispositivo alterado'
              manual_close: 'YES'
              tags:
                - tag: IP
                  value: changed
        - uuid: 8b2dc378ee0d42fbac81fbee052d016a
          name: 'Memory Total'
          type: DEPENDENT
          key: enterprises.memoryTotal
          delay: '0'
          history: 7d
          trends: '0'
          units: B
          description: |
            Total de memoria disponível em bytes
            Total memory available in bytes
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.9.1.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
            - type: MULTIPLIER
              parameters:
                - '1048576'
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: System
              value: status
        - uuid: 7325299946594f378a6335d7099371a8
          name: 'Memory Utilization'
          type: DEPENDENT
          key: enterprises.memoryUsage
          delay: '0'
          history: 7d
          units: '%'
          description: |
            Uso da memoria em percentual
            Memory usage in percent
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.9.2.0
                - '0'
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 126b8f21ad36457fbc20aa199bec26a6
              expression: 'avg(/Intelbras Dahua NVR SNMP/enterprises.memoryUsage,#3)>98'
              name: 'Memory High Utilization'
              opdata: 'Current: {ITEM.LASTVALUE}'
              priority: HIGH
              description: 'Alta utilização de memória do dispositivo'
              tags:
                - tag: Memory
                  value: high
        - uuid: 2627facad7434dd18a08ddeb3c28d86d
          name: 'System OS Name'
          type: DEPENDENT
          key: enterprises.osName
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            O nome do sistema operacional
            The operating system name
          inventory_link: OS
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.10.1.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: Device
              value: general
        - uuid: 901eb8e37d5647fc80ab20bc03deafc3
          name: 'System OS Version'
          type: DEPENDENT
          key: enterprises.osVersion
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            A versão do sistema operacional (kernel)
            The operating system version
          inventory_link: OS_SHORT
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.10.2.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: Device
              value: general
        - uuid: 2559bdb3bfa1411f8b49dbc44ec350bb
          name: 'Device Walk Storage'
          type: SNMP_AGENT
          snmp_oid: 'walk[.1.3.6.1.4.1.1004849.2.4.1.1.4,.1.3.6.1.4.1.1004849.2.4.1.1.5,.1.3.6.1.4.1.1004849.2.4.1.1.6,.1.3.6.1.4.1.1004849.2.4.1.1.7]'
          key: enterprises.physicalVolumeInfo.walk
          delay: 5m
          history: '0'
          trends: '0'
          value_type: TEXT
          description: |
            SNMP Walk nas sub-árvores do storage do dispositvo
            Device storage sub-trees SWNP Walk
          timeout: 15s
          tags:
            - tag: SNMP
              value: walk
        - uuid: 35884c73c7b44318ba9c34e1b7bda507
          name: 'Device Walk Remote Cam'
          type: SNMP_AGENT
          snmp_oid: 'walk[.1.3.6.1.4.1.1004849.2.10.2.2.1.2,.1.3.6.1.4.1.1004849.2.10.2.2.1.3,.1.3.6.1.4.1.1004849.2.10.2.2.1.4]'
          key: enterprises.remoteDeviceInfo.walk
          delay: 5m
          history: '0'
          trends: '0'
          value_type: TEXT
          description: |
            SNMP Walk nas sub-árvores das cameras conectadas
            SWNP Walk for Conected cameras sub-trees
          timeout: 15s
          tags:
            - tag: SNMP
              value: walk
        - uuid: 0b41eaf4f4624b539402c4070c3a1020
          name: 'Device Serial Number'
          type: DEPENDENT
          key: enterprises.serialNumber
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: 'Número de série do dispositivo'
          inventory_link: SERIALNO_A
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.2.4.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: Device
              value: general
        - uuid: cbb08717b9054df08902121f6b155ffa
          name: 'Device Walk System Info'
          type: SNMP_AGENT
          snmp_oid: 'walk[.1.3.6.1.4.1.1004849.2.1.2,.1.3.6.1.4.1.1004849.2.1.3,.1.3.6.1.4.1.1004849.2.1.6,.1.3.6.1.4.1.1004849.2.1.7,.1.3.6.1.4.1.1004849.2.1.8,.1.3.6.1.4.1.1004849.2.1.9,.1.3.6.1.4.1.1004849.2.1.10,.1.3.6.1.4.1.1004849.2.2.2.8]'
          key: enterprises.system.walk
          delay: 3m
          history: '0'
          trends: '0'
          value_type: TEXT
          description: |
            SNMP Walk nas sub-árvores do sistema
            SWNP Walk for system sub-trees
          timeout: 15s
          tags:
            - tag: SNMP
              value: walk
        - uuid: 9a217be202584a858c2857f64913f96e
          name: 'System Status'
          type: DEPENDENT
          key: enterprises.systemStatus
          delay: '0'
          history: 7d
          trends: '0'
          description: |
            Status do sistema (pode ser alterado com um setRequest)
            The system status (may be changed with a setRequest)
            - online (0)
            - offline (1)
            - reboot (2)
          valuemap:
            name: 'NVR System Status'
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.7.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: Device
              value: general
          triggers:
            - uuid: 7b27f2cbce1941f4842db349be14df7d
              expression: 'last(/Intelbras Dahua NVR SNMP/enterprises.systemStatus)=1'
              name: 'System Status Offline'
              opdata: '{ITEM.LASTVALUE}'
              priority: HIGH
              description: |
                O status do sistema foi alterado para offline (alterado via setRequest)
                - online (0)
                - offline (1)
                - reboot (2)
              tags:
                - tag: System
                  value: offline
        - uuid: 2b4e8785ba8441afae57a848b09b566a
          name: 'System Time'
          type: DEPENDENT
          key: enterprises.systemTime
          delay: '0'
          history: 1d
          trends: '0'
          value_type: CHAR
          description: |
            Horario corrente do dispositivo
            Device current time
            
            String format: YYYY/MM/DD HH:mm:ss
            ex: 2024/06/08 10:32:31
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.8.0
                - '0'
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: System
              value: status
        - uuid: 77f25d88e8554c6a83ca14f4e8285497
          name: 'Device System Version'
          type: DEPENDENT
          key: enterprises.systemVersion
          delay: '0'
          history: 2d
          trends: '0'
          value_type: CHAR
          description: 'Versão do sistema'
          inventory_link: SOFTWARE
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - 1.3.6.1.4.1.1004849.2.1.2.5.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: Device
              value: general
          triggers:
            - uuid: 792c5acff95e4c12bc7b2844cc4e5d8e
              expression: 'change(/Intelbras Dahua NVR SNMP/enterprises.systemVersion)=1'
              name: 'Device System Version changed'
              opdata: 'Version: {ITEM.VALUE}'
              priority: WARNING
              description: 'A versão do sistema no dispositivo foi alterada'
              manual_close: 'YES'
              tags:
                - tag: Version
                  value: changed
        - uuid: dec2a9f878094783af5b94c09f37d8fe
          name: 'Device Channel Number'
          type: DEPENDENT
          key: enterprises.videoChannel
          delay: '0'
          history: 7d
          trends: '0'
          description: |
            Numero de canais do dispositivo
            The number of video channels
          preprocessing:
            - type: SNMP_WALK_VALUE
              parameters:
                - .1.3.6.1.4.1.1004849.2.1.2.1.0
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: enterprises.system.walk
          tags:
            - tag: Device
              value: general
        - uuid: 442bf69a386a4a4587ccfea873489ea3
          name: 'Device Walk System General'
          type: SNMP_AGENT
          snmp_oid: 'walk[.1.3.6.1.2.1.1.1,.1.3.6.1.2.1.1.4,.1.3.6.1.2.1.1.5,.1.3.6.1.2.1.1.6]'
          key: general.system.walk
          delay: 3m
          history: '0'
          trends: '0'
          value_type: TEXT
          description: |
            SNMP Walk nas sub-árvore geral do sistema
            SWNP Walk for general system sub-tree
          timeout: 15s
          tags:
            - tag: SNMP
              value: walk
        - uuid: 465aa59acfd14b37815b3aa22f3004c2
          name: 'TCP Performance Media'
          type: SIMPLE
          key: 'net.tcp.service.perf[tcp,,{$MEDIA_PORT}]'
          delay: 5m
          history: 1w
          value_type: FLOAT
          units: s
          description: |
            Verificação da latência da porta de mídia do dispositivo
            
            Device media port latency check
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 5bd9782f38ee417699fa2c0c1c0a538a
              expression: 'avg(/Intelbras Dahua NVR SNMP/net.tcp.service.perf[tcp,,{$MEDIA_PORT}],#3)=0'
              name: 'Unresponsive Media Port'
              opdata: 'Media Port {$MEDIA_PORT}'
              priority: HIGH
              description: |
                As três últimas verificações retornaram 0
                Verifique a conectividade do dispositivo na porta TCP de mídia
                
                Last three attempts returned 0
                Check device connectivity on media TCP port
              tags:
                - tag: Media
                  value: down
        - uuid: 4acf9f67f76240c1a032e103826c53aa
          name: 'TCP Performance Web'
          type: SIMPLE
          key: 'net.tcp.service.perf[tcp,,{$WEB_PORT}]'
          delay: 5m
          history: 1w
          value_type: FLOAT
          units: s
          description: |
            Verificação da latência da porta HTTP da interface WEB do dispositivo
            
            HTTP port latency check for the device Web interface
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: f2f3d2ede0d44cc491b77d99a33bca17
              expression: 'avg(/Intelbras Dahua NVR SNMP/net.tcp.service.perf[tcp,,{$WEB_PORT}],#3)=0'
              name: 'Unresponsive Web Port'
              opdata: 'Web Port {$WEB_PORT}'
              priority: HIGH
              description: |
                As três últimas verificações retornaram 0
                Verifique a conectividade do dispositivo na porta Web TCP
                
                Last three attempts returned 0
                Check device connectivity on Web TCP port
              tags:
                - tag: Web
                  value: down
        - uuid: f59250bbe20a47fbafc5b3f4fe208be7
          name: 'SNMP Traps Fallback'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          history: 2w
          trends: '0'
          value_type: LOG
          description: |
            Item utilizado para coletar todas as traps SNMP não identificadas por outros itens "snmptrap"
            Item is used to collect all SNMP traps unmatched by other "snmptrap" items
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: SNMP
              value: trap
        - uuid: 9385027fca664ffe8bfab056ed9d681c
          name: 'SNMP Agent Availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          delay: 3m
          history: 7d
          trends: '0'
          description: |
            Disponibilidade SNMP do host. Este valor corresponde ao ícone de disponibilidade na lista de hosts.
            
            Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
            
            0 - not available
            1 - available
            2 - unknown
          valuemap:
            name: 'SNMP Availability'
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 402a97ff650c44a791c6eb60d33cc889
              expression: 'max(/Intelbras Dahua NVR SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE}'
              priority: DISASTER
              description: |
                A conexão SNMP não está disponível por {$SNMP.TIMEOUT}. Verifique a conectividade e configuração SNMP do dispositivo.
                SNMP is not available for polling for {$SNMP.TIMEOUT}. Please check device connectivity and SNMP settings.
              tags:
                - tag: SNMP
                  value: down
      discovery_rules:
        - uuid: 5ed49bd1ed5d4f5cb2acf00dd9536ab7
          name: 'Disk Discovery'
          type: DEPENDENT
          key: enterprises.physicalVolumeInfo.discovery
          delay: '0'
          lifetime: 1d
          enabled_lifetime_type: DISABLE_AFTER
          enabled_lifetime: 1h
          description: |
            Descoberta automática dos volumes de armazenamento
            Storage volumes discovery from the enterprise MIB sub-tree
          item_prototypes:
            - uuid: 70d9dd5e4dbe4801b8d1862c2ad8c642
              name: 'Disk {#SNMPINDEX} Name - {#DISK_NAME}'
              type: DEPENDENT
              key: 'physicalVolume[name{#SNMPINDEX}]'
              delay: '0'
              history: 2d
              trends: '0'
              value_type: CHAR
              description: 'Nome do volume de armazenamento {#DISK_NAME}'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.4.1.1004849.2.4.1.1.4.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: enterprises.physicalVolumeInfo.walk
              tags:
                - tag: Disk
                  value: name
            - uuid: feef0553ed5c4af4b9dc4509aba57011
              name: 'Disk {#SNMPINDEX} Status - {#DISK_NAME}'
              type: DEPENDENT
              key: 'physicalVolume[status{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              trends: '0'
              description: |
                Status do volume de armazenamento
                0 - Error
                1 - Offline
                2 - Running
                3 - RaidSub
              valuemap:
                name: 'Disk Status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.4.1.1004849.2.4.1.1.5.{#SNMPINDEX}'
                    - '0'
                - type: STR_REPLACE
                  parameters:
                    - Error
                    - '0'
                - type: STR_REPLACE
                  parameters:
                    - Offline
                    - '1'
                - type: STR_REPLACE
                  parameters:
                    - Running
                    - '2'
                - type: STR_REPLACE
                  parameters:
                    - RaidSub
                    - '3'
              master_item:
                key: enterprises.physicalVolumeInfo.walk
              tags:
                - tag: Disk
                  value: status
              trigger_prototypes:
                - uuid: 6b9e0010048346688f1e35c1473889c5
                  expression: 'last(/Intelbras Dahua NVR SNMP/physicalVolume[status{#SNMPINDEX}],#1)<2'
                  name: 'Disk {#DISK_NAME} Error'
                  opdata: 'Status: {#DISK_STATUS}'
                  priority: HIGH
                  description: 'Volume de armazenamento apresentando status de erro'
                  tags:
                    - tag: Disk
                      value: error
            - uuid: a2af9406213f4664bf2e9e5513110636
              name: 'Disk {#SNMPINDEX} Size - {#DISK_NAME}'
              type: DEPENDENT
              key: 'physicalVolume[total{#SNMPINDEX}]'
              delay: '0'
              history: 1d
              trends: '0'
              units: '!MB'
              description: 'Tamanho total do volume de armazenamento {#DISK_NAME}'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.4.1.1004849.2.4.1.1.7.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: enterprises.physicalVolumeInfo.walk
              tags:
                - tag: Disk
                  value: size
            - uuid: a2a0a0deb020479bb09286311d041acd
              name: 'Disk {#SNMPINDEX} Usage - {#DISK_NAME}'
              type: DEPENDENT
              key: 'physicalVolume[usage{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              units: '!MB'
              description: 'Capacidade utilizada do volume de armazenamento'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.4.1.1004849.2.4.1.1.6.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: enterprises.physicalVolumeInfo.walk
              tags:
                - tag: Disk
                  value: usage
            - uuid: d562009a815747ea84de42c97b2e86b5
              name: 'Disk {#SNMPINDEX} Utilization - {#DISK_NAME}'
              type: CALCULATED
              key: 'physicalVolume[util{#SNMPINDEX}]'
              delay: 5m
              history: 7d
              units: '%'
              params: |
                (last(//physicalVolume[usage{#SNMPINDEX}]) * 100)
                /
                last(//physicalVolume[total{#SNMPINDEX}])
              description: 'Taxa de utilização do volume de armazenamento em percentual'
              tags:
                - tag: Disk
                  value: utilization
              trigger_prototypes:
                - uuid: 6af35893d4774cb9bb43efb09ab3369a
                  expression: 'last(/Intelbras Dahua NVR SNMP/physicalVolume[util{#SNMPINDEX}],#1)>{$DISK_FREE_WARN}'
                  name: 'Disk {#DISK_NAME} Utilization is High'
                  opdata: 'Utilization: {ITEM.LASTVALUE}'
                  priority: WARNING
                  description: 'Pouco espaço disponível no volume de armazenamento'
          graph_prototypes:
            - uuid: 178890197d5744e08772cc625987e33f
              name: 'Disk Usage - {#DISK_NAME}'
              width: '500'
              height: '340'
              yaxismax: '0'
              show_work_period: 'NO'
              show_triggers: 'NO'
              type: PIE
              show_3d: 'YES'
              graph_items:
                - sortorder: '1'
                  color: FFAB91
                  calc_fnc: LAST
                  type: GRAPH_SUM
                  item:
                    host: 'Intelbras Dahua NVR SNMP'
                    key: 'physicalVolume[total{#SNMPINDEX}]'
                - sortorder: '2'
                  color: B71C1C
                  calc_fnc: LAST
                  item:
                    host: 'Intelbras Dahua NVR SNMP'
                    key: 'physicalVolume[usage{#SNMPINDEX}]'
          master_item:
            key: enterprises.physicalVolumeInfo.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#DISK_NAME}'
                - .1.3.6.1.4.1.1004849.2.4.1.1.4
                - '0'
                - '{#DISK_STATUS}'
                - .1.3.6.1.4.1.1004849.2.4.1.1.5
                - '0'
                - '{#DISK_USED}'
                - .1.3.6.1.4.1.1004849.2.4.1.1.6
                - '0'
                - '{#DISK_SIZE}'
                - .1.3.6.1.4.1.1004849.2.4.1.1.7
                - '0'
        - uuid: db9a014c00de49e086c51215efad802e
          name: 'Camera Discovery'
          type: DEPENDENT
          key: enterprises.remoteDeviceInfo.discovery
          delay: '0'
          lifetime: 1d
          enabled_lifetime_type: DISABLE_AFTER
          enabled_lifetime: 1h
          description: |
            Descoberta automática das câmeras conectadas
            Remote camera discovery from the enterprise MIB sub-tree
          item_prototypes:
            - uuid: 0763a7279bde44c8bd467b2af73fe250
              name: 'Camera {#SNMPINDEX} IP'
              type: DEPENDENT
              key: 'remoteDevice[IpAddr{#SNMPINDEX}]'
              delay: '0'
              history: 2d
              trends: '0'
              value_type: CHAR
              description: 'IP da câmera {#CAM_NAME}'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.4.1.1004849.2.10.2.2.1.2.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: enterprises.remoteDeviceInfo.walk
              tags:
                - tag: Camera
                  value: ip
            - uuid: 2bcbdfe288d34915ae6390b6349bcc05
              name: 'Camera {#SNMPINDEX} Name'
              type: DEPENDENT
              key: 'remoteDevice[Name{#SNMPINDEX}]'
              delay: '0'
              history: 2d
              trends: '0'
              value_type: CHAR
              description: 'Nome cadastrado da câmera'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.4.1.1004849.2.10.2.2.1.4.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: enterprises.remoteDeviceInfo.walk
              tags:
                - tag: Camera
                  value: name
            - uuid: 1fa48e4640f2410098eb1b62e0adbd94
              name: 'Camera {#SNMPINDEX} Status'
              type: DEPENDENT
              key: 'remoteDevice[Status{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              trends: '0'
              description: |
                O status da câmera remota
                0 - Connecting
                1 - Conneted
                2 - Unconnect
                3 - Empty
                4 - Disable
              valuemap:
                name: 'Camera Availability'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.4.1.1004849.2.10.2.2.1.3.{#SNMPINDEX}'
                    - '0'
                - type: STR_REPLACE
                  parameters:
                    - Connecting
                    - '0'
                - type: STR_REPLACE
                  parameters:
                    - Connected
                    - '1'
                - type: STR_REPLACE
                  parameters:
                    - Unconnect
                    - '2'
                - type: STR_REPLACE
                  parameters:
                    - Empty
                    - '3'
                - type: STR_REPLACE
                  parameters:
                    - Disable
                    - '4'
              master_item:
                key: enterprises.remoteDeviceInfo.walk
              tags:
                - tag: Camera
                  value: status
              trigger_prototypes:
                - uuid: ae78fb381c9f425f927b4de25511fed6
                  expression: 'last(/Intelbras Dahua NVR SNMP/remoteDevice[Status{#SNMPINDEX}],#1)=3'
                  name: 'Camera {#SNMPINDEX} absent'
                  opdata: '{#CAM_NAME} - {#CAM_STATUS}'
                  priority: WARNING
                - uuid: 751f317495fb42e1927b45d10327385d
                  expression: 'last(/Intelbras Dahua NVR SNMP/remoteDevice[Status{#SNMPINDEX}],#1)=2'
                  name: 'Camera {#SNMPINDEX} disconnected'
                  opdata: '{#CAM_NAME} - {#CAM_STATUS}'
                  priority: WARNING
          master_item:
            key: enterprises.remoteDeviceInfo.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#ICAM_IP}'
                - .1.3.6.1.4.1.1004849.2.10.2.2.1.2
                - '0'
                - '{#CAM_STATUS}'
                - .1.3.6.1.4.1.1004849.2.10.2.2.1.3
                - '0'
                - '{#CAM_NAME}'
                - .1.3.6.1.4.1.1004849.2.10.2.2.1.4
                - '0'
        - uuid: 57820de57a2a45fc869421d568968d33
          name: 'Network interfaces discovery'
          type: DEPENDENT
          key: net.if.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#IFADMINSTATUS}'
                value: '{$NET.IF.IFADMINSTATUS.MATCHES}'
                formulaid: A
              - macro: '{#IFADMINSTATUS}'
                value: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#IFDESCR}'
                value: '{$NET.IF.IFDESCR.MATCHES}'
                formulaid: C
              - macro: '{#IFDESCR}'
                value: '{$NET.IF.IFDESCR.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: D
              - macro: '{#IFNAME}'
                value: '{$NET.IF.IFNAME.MATCHES}'
                formulaid: E
              - macro: '{#IFNAME}'
                value: '{$NET.IF.IFNAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: F
              - macro: '{#IFOPERSTATUS}'
                value: '{$NET.IF.IFOPERSTATUS.MATCHES}'
                formulaid: G
              - macro: '{#IFOPERSTATUS}'
                value: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: H
              - macro: '{#IFTYPE}'
                value: '{$NET.IF.IFTYPE.MATCHES}'
                formulaid: I
              - macro: '{#IFTYPE}'
                value: '{$NET.IF.IFTYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: J
          lifetime: 1d
          enabled_lifetime_type: DISABLE_AFTER
          enabled_lifetime: 1h
          description: |
            Descoberta de interfaces de rede a partir da sub-árvore genérica de interfaces
            Network interfaces discovery from the generic MIB interfaces sub-tree
          item_prototypes:
            - uuid: 607f70fcbbf8402a971bee23dd1f6942
              name: 'Interface {#IFNAME}: Inbound packets discarded'
              type: DEPENDENT
              key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              description: |
                O número de pacotes por segundo entrando na interface que são descartados
                
                MIB: IF-MIB
                The number of inbound packets which were chosen to be discarded
                even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system,
                and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.13.{#SNMPINDEX}'
                    - '0'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 7d89522e0cf44c868b55f008f6115461
              name: 'Interface {#IFNAME}: Inbound packets with errors'
              type: DEPENDENT
              key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              description: |
                O número de pacotes por segundo entrando na interface com erros
                
                MIB: IF-MIB
                For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol. For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.14.{#SNMPINDEX}'
                    - '0'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: fcb165497bfc43c2898ed54bdb45059f
              name: 'Interface {#IFNAME}: Bits received'
              type: DEPENDENT
              key: 'net.if.in[ifInOctets.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              units: bps
              description: |
                O número de bits por segundo entrando na interface
                
                MIB: IF-MIB
                The total number of octets received on the interface,including framing characters. Discontinuities in the value of this counter can occur at re-initialization of the management system, and atother times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.10.{#SNMPINDEX}'
                    - '0'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 22d60e0ae8874387ac280ff89955e0cc
              name: 'Interface {#IFNAME}: Outbound packets discarded'
              type: DEPENDENT
              key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              description: |
                O número de pacotes por segundo saindo da interface que foram descartados
                
                MIB: IF-MIB
                The number of outbound packets which were chosen to be discarded even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.19.{#SNMPINDEX}'
                    - '0'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: dce829e613bf408b88cf4eb1ff5d50b4
              name: 'Interface {#IFNAME}: Outbound packets with errors'
              type: DEPENDENT
              key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              description: |
                O número de pacotes por segundo saindo da interface com erro
                
                MIB: IF-MIB
                For packet-oriented interfaces, the number of outbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of outbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.20.{#SNMPINDEX}'
                    - '0'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: a3abfc9456364a319344f0f0bcbed4bb
              name: 'Interface {#IFNAME}: Bits sent'
              type: DEPENDENT
              key: 'net.if.out[ifOutOctets.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              units: bps
              description: |
                O número de bits por segundo saindo da interface
                
                MIB: IF-MIB
                The total number of octets transmitted out of the interface, including framing characters. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.16.{#SNMPINDEX}'
                    - '0'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 58ef821f83984e60b03d21a25c46bbc1
              name: 'Interface {#IFNAME}: Speed'
              type: DEPENDENT
              key: 'net.if.speed[ifSpeed.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              trends: '0'
              units: bps
              description: |
                A velocidade corrent da interface em bits por segundo
                
                MIB: IF-MIB
                An estimate of the interface's current bandwidth in bits per second.
                For interfaces which do not vary in bandwidth or for those where no accurate estimation can be made, this object should contain the nominal bandwidth.
                If the bandwidth of the interface is greater than the maximum value reportable by this object then this object should report its maximum value (4,294,967,295) and ifHighSpeed must be used to report the interface's speed.
                For a sub-layer which has no concept of bandwidth, this object should be zero.
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.5.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 03dafa5c30934236b5390ecb2c8d53eb
              name: 'Interface {#IFNAME}: Admin status'
              type: DEPENDENT
              key: 'net.if.status[ifAdminStatus.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              trends: '0'
              description: |
                O estado administrativo (configurado) da interface
                
                MIB: IF-MIB
                The desired state of the interface.
                The testing(3) state indicates that no operational packets can be passed.
                When a managed system initializes, all interfaces start with ifAdminStatus in the down(2) state.
                As a result of either explicit management action or per configuration information retained by the managed system, ifAdminStatus is then changed to either the up(1), testing(3) states or remains in the down(2) state.
              valuemap:
                name: 'IF-MIB::ifAdminStatus'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.7.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 9e62f53c96334e37810408a53d3de8f8
              name: 'Interface {#IFNAME}: Operational status'
              type: DEPENDENT
              key: 'net.if.status[ifOperStatus.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              trends: '0'
              description: |
                O estado operacional (físico) da interface
                
                MIB: IF-MIB
                The current operational state of the interface.
                - The testing(3) state indicates that no operational packets can be passed.
                - If ifAdminStatus is down(2) then ifOperStatus should be down(2);
                - If ifAdminStatus is changed to up(1) then ifOperStatus should change to up(1) if the interface is ready to transmit and receive network traffic;
                - it should change to dormant(5) if the interface is waiting for external actions (such as a serial line waiting for an incoming connection);
                - it should remain in the down(2) state if and only if there is a fault that prevents it from going to the up(1) state;
                - it should remain in the notPresent(6) state if the interface has missing (typically, hardware) components.
              valuemap:
                name: 'IF-MIB::ifOperStatus'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
              trigger_prototypes:
                - uuid: aed1afdfa9844ceeb7d26b7f19f27d99
                  expression: |
                    {$IFCONTROL:"{#IFNAME}"}=1
                    and
                    last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2
                    and
                    change(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=1
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
                  name: 'Interface {#IFDESCR}: Link down'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    Se a context macro {$IFCONTROL:"{#IFNAME}"} for igual a 0, ignora o estado down da interface
                    
                    This trigger expression works as follows:
                    1. Can be triggered if operations status is down.
                    2. {$IFCONTROL:"{#IFNAME}"}=1 - user can redefine Context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.
                    3. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)
                    
                    WARNING: if closed manually - won't fire again on next poll, because of .diff.
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 38239fa4059a49f3adb3aa04af3882c1
              name: 'Interface {#IFNAME}: Type'
              type: DEPENDENT
              key: 'net.if.type[ifType.{#SNMPINDEX}]'
              delay: '0'
              history: 7d
              trends: '0'
              description: |
                O tipo de interface
                
                MIB: IF-MIB
                The type of interface.
                Additional values for ifType are assigned by the Internet Assigned Numbers Authority (IANA), through updating the syntax of the IANAifType textual convention.
              valuemap:
                name: 'IF-MIB::ifType'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.2.1.2.2.1.3.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: enterprises.ifEntry.walk
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#IFNAME}'
          trigger_prototypes:
            - uuid: 3fb937539c28412e8d65d4262f45f866
              expression: |
                change(/Intelbras Dahua NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])<0 and last(/Intelbras Dahua NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])>0
                and (
                last(/Intelbras Dahua NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=6 or
                last(/Intelbras Dahua NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=7 or
                last(/Intelbras Dahua NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=11 or
                last(/Intelbras Dahua NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=62 or
                last(/Intelbras Dahua NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=69 or
                last(/Intelbras Dahua NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=117
                )
                and
                (last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2)
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                (change(/Intelbras Dahua NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])>0 and last(/Intelbras Dahua NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}],#2)>0) or
                (last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2)
              name: 'Interface {#IFDESCR}: Ethernet has changed to lower speed than it was before'
              opdata: 'Current reported speed: {ITEM.LASTVALUE1}'
              priority: INFO
              description: |
                A velocidade nominal da conexão Ethernet desta interface alterou para um valor inferior
                Pode ser um sinal de problema na auto-negociação de velocidade
                Fechamento manual
                
                This Ethernet connection has transitioned down from its known maximum speed
                This might be a sign of autonegotiation issues
                Ack to close
              manual_close: 'YES'
              dependencies:
                - name: 'Interface {#IFDESCR}: Link down'
                  expression: |
                    {$IFCONTROL:"{#IFNAME}"}=1
                    and
                    last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2
                    and
                    change(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=1
                  recovery_expression: 'last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                - tag: scope
                  value: performance
            - uuid: 1eb1852c8d90455a90c5428efb5f32b5
              expression: |
                (avg(/Intelbras Dahua NVR SNMP/net.if.in[ifInOctets.{#SNMPINDEX}],15m)
                >
                ({$IF.UTIL.MAX:"{#IFNAME}"}/100)
                *
                last(/Intelbras Dahua NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])
                or
                avg(/Intelbras Dahua NVR SNMP/net.if.out[ifOutOctets.{#SNMPINDEX}],15m)
                >
                ({$IF.UTIL.MAX:"{#IFNAME}"}/100)
                *
                last(/Intelbras Dahua NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}]))
                and
                last(/Intelbras Dahua NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])>0
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                avg(/Intelbras Dahua NVR SNMP/net.if.in[ifInOctets.{#SNMPINDEX}],15m)
                <
                (({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)
                *
                last(/Intelbras Dahua NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])
                and
                avg(/Intelbras Dahua NVR SNMP/net.if.out[ifOutOctets.{#SNMPINDEX}],15m)
                <
                (({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)
                *
                last(/Intelbras Dahua NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])
              name: 'Interface {#IFDESCR}: High bandwidth usage'
              event_name: 'Interface {#IFDESCR}: High bandwidth usage (>{$IF.UTIL.MAX:"{#IFNAME}"}%)'
              opdata: 'In: {ITEM.LASTVALUE1}, out: {ITEM.LASTVALUE3}, speed: {ITEM.LASTVALUE2}'
              priority: WARNING
              description: |
                A utilização da largura de banda desta interface está próxima ao máximo estimado
                
                The network interface utilization is close to its estimated maximum bandwidth
              manual_close: 'YES'
              dependencies:
                - name: 'Interface {#IFDESCR}: Link down'
                  expression: |
                    {$IFCONTROL:"{#IFNAME}"}=1
                    and
                    last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2
                    and
                    change(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=1
                  recovery_expression: 'last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                - tag: scope
                  value: performance
            - uuid: 4a342ec411e244ec90b92985934bbf84
              expression: |
                min(/Intelbras Dahua NVR SNMP/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}
                or min(/Intelbras Dahua NVR SNMP/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                max(/Intelbras Dahua NVR SNMP/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8
                and max(/Intelbras Dahua NVR SNMP/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8
              name: 'Interface {#IFDESCR}: High error rate'
              event_name: 'Interface {#IFDESCR}: High error rate (>{$IF.ERRORS.WARN:"{#IFNAME}"} for 5m)'
              opdata: 'errors in: {ITEM.LASTVALUE1}, errors out: {ITEM.LASTVALUE2}'
              priority: WARNING
              description: |
                A taxa de erros de entrada ou saída da interface é superior ao limiar {$IF.ERRORS.WARN:"{#IFNAME}"}
                Resolve quando a taxa for inferior a 80% do limiar
                
                The interface in or out errors is higher than {$IF.ERRORS.WARN:"{#IFNAME}"} threshold
                Recovers when below 80% of the threshold
              manual_close: 'YES'
              dependencies:
                - name: 'Interface {#IFDESCR}: Link down'
                  expression: |
                    {$IFCONTROL:"{#IFNAME}"}=1
                    and
                    last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2
                    and
                    change(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=1
                  recovery_expression: 'last(/Intelbras Dahua NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                - tag: scope
                  value: performance
          graph_prototypes:
            - uuid: c11fbe1e1ff547089595d1d91e3b257e
              name: 'Interface {#IFDESCR}: Network traffic'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 1A7C11
                  item:
                    host: 'Intelbras Dahua NVR SNMP'
                    key: 'net.if.in[ifInOctets.{#SNMPINDEX}]'
                - sortorder: '1'
                  drawtype: BOLD_LINE
                  color: 2774A4
                  item:
                    host: 'Intelbras Dahua NVR SNMP'
                    key: 'net.if.out[ifOutOctets.{#SNMPINDEX}]'
                - sortorder: '2'
                  drawtype: DASHED_LINE
                  color: F63100
                  yaxisside: RIGHT
                  item:
                    host: 'Intelbras Dahua NVR SNMP'
                    key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
                - sortorder: '3'
                  drawtype: DASHED_LINE
                  color: A54F10
                  yaxisside: RIGHT
                  item:
                    host: 'Intelbras Dahua NVR SNMP'
                    key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
                - sortorder: '4'
                  drawtype: DASHED_LINE
                  color: FC6EA3
                  yaxisside: RIGHT
                  item:
                    host: 'Intelbras Dahua NVR SNMP'
                    key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
                - sortorder: '5'
                  drawtype: DASHED_LINE
                  color: 6C59DC
                  yaxisside: RIGHT
                  item:
                    host: 'Intelbras Dahua NVR SNMP'
                    key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
          master_item:
            key: enterprises.ifEntry.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#IFTYPE}'
                - .1.3.6.1.2.1.2.2.1.3
                - '0'
                - '{#IFSPEED}'
                - .1.3.6.1.2.1.2.2.1.5
                - '0'
                - '{#IFADMINSTATUS}'
                - .1.3.6.1.2.1.2.2.1.7
                - '0'
                - '{#IFOPERSTATUS}'
                - .1.3.6.1.2.1.2.2.1.8
                - '0'
                - '{#IFINOCTETS}'
                - .1.3.6.1.2.1.2.2.1.10
                - '0'
                - '{#IFINDISCARDS}'
                - .1.3.6.1.2.1.2.2.1.13
                - '0'
                - '{#IFINERRORS}'
                - .1.3.6.1.2.1.2.2.1.14
                - '0'
                - '{#IFOUTOCTETS}'
                - .1.3.6.1.2.1.2.2.1.16
                - '0'
                - '{#IFOUTDISCARDS}'
                - .1.3.6.1.2.1.2.2.1.19
                - '0'
                - '{#IFOUTERROS}'
                - .1.3.6.1.2.1.2.2.1.20
                - '0'
                - '{#IFNAME}'
                - .1.3.6.1.2.1.31.1.1.1.1
                - '0'
                - '{#IFDESCR}'
                - .1.3.6.1.2.1.2.2.1.2
                - '0'
      httptests:
        - uuid: aeb5ce3095dc4a4c9e6452229901edb1
          name: 'Web Performance'
          delay: 5m
          agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36'
          steps:
            - name: 'Web Portal Performance'
              url: '{$WEB_SERVICE}://{HOST.CONN}:{$WEB_PORT}'
              follow_redirects: 'NO'
              retrieve_mode: BOTH
              timeout: 5s
              status_codes: '200'
          tags:
            - tag: Web
              value: performance
      tags:
        - tag: NVR
      macros:
        - macro: '{$API_PASS}'
          type: SECRET_TEXT
          description: 'Set your API password'
        - macro: '{$API_USER}'
          value: admin
          description: 'Set your API user'
        - macro: '{$DISK_FREE_WARN}'
          value: '100'
          description: 'Disk free percentage threshold. Set to 100 if the disk stays full'
        - macro: '{$IF.ERRORS.WARN}'
          value: '2'
          description: 'Minimum number of errors in or out an interface'
        - macro: '{$IF.UTIL.MAX}'
          value: '95'
          description: 'Inteface utilization threshold in percent'
        - macro: '{$IFCONTROL}'
          value: '1'
          description: 'Indicates if all interfaces are to be triggered as down. Add context macros to ignore specific interfaces'
        - macro: '{$MEDIA_PORT}'
          value: '37777'
          description: 'Media port for image access'
        - macro: '{$NET.IF.IFADMINSTATUS.MATCHES}'
          value: '^.*'
          description: 'Discover only interfaces with Admin Status that matches this Regex'
        - macro: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
          value: ^2$
          description: 'Does not discover interfaces with Admin Status that matches this Regex. Ignore down(2) administrative status by default'
        - macro: '{$NET.IF.IFDESCR.MATCHES}'
          value: '.*'
          description: 'Discover only interfaces with description that matches this Regex'
        - macro: '{$NET.IF.IFDESCR.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Does not discover interfaces with description that matches this Regex'
        - macro: '{$NET.IF.IFNAME.MATCHES}'
          value: '^.*$'
          description: 'Discover only interfaces with name that matches this Regex'
        - macro: '{$NET.IF.IFNAME.NOT_MATCHES}'
          value: '(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12})'
          description: 'Does not discover interfaces with name that matches this Regex. Filters out loopbacks, nulls, docker veth links and docker0 bridge by default'
        - macro: '{$NET.IF.IFOPERSTATUS.MATCHES}'
          value: '^.*$'
          description: 'Discover only interfaces with Operational Status that matches this Regex'
        - macro: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
          value: ^6$
          description: 'Does not discover interfaces with Operational Status that matches this Regex. Ignore notPresent(6) by default'
        - macro: '{$NET.IF.IFTYPE.MATCHES}'
          value: '.*'
          description: 'Discover only interfaces with types that matches this Regex'
        - macro: '{$NET.IF.IFTYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Does not discover interfaces with types that matches this Regex'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'SNMP availability timeout threshold'
        - macro: '{$WEB_PORT}'
          value: '80'
          description: 'HTTP port for WEB UI access'
        - macro: '{$WEB_SERVICE}'
          value: http
          description: 'Set your Web service (http or https)'
      dashboards:
        - uuid: 08c540e81cb14b4f9bc1e38c1cc68ede
          name: 'NVR Dashboard'
          auto_start: 'NO'
          pages:
            - name: 'NVR Resources'
              widgets:
                - type: svggraph
                  name: 'CPU Utilization'
                  width: '30'
                  height: '5'
                  fields:
                    - type: STRING
                      name: ds.0.color
                      value: 4CAF50
                    - type: INTEGER
                      name: ds.0.fill
                      value: '1'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'CPU Usage'
                    - type: INTEGER
                      name: ds.0.transparency
                      value: '0'
                    - type: INTEGER
                      name: ds.0.width
                      value: '3'
                    - type: STRING
                      name: lefty_max
                      value: '100'
                    - type: STRING
                      name: lefty_min
                      value: '0'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: WBSPW
                    - type: INTEGER
                      name: righty
                      value: '0'
                    - type: INTEGER
                      name: severities.0
                      value: '1'
                    - type: INTEGER
                      name: severities.1
                      value: '2'
                    - type: INTEGER
                      name: severities.2
                      value: '3'
                    - type: INTEGER
                      name: severities.3
                      value: '4'
                    - type: INTEGER
                      name: severities.4
                      value: '5'
                    - type: INTEGER
                      name: show_problems
                      value: '1'
                - type: svggraph
                  name: 'Memory Utilization'
                  'y': '5'
                  width: '30'
                  height: '5'
                  fields:
                    - type: STRING
                      name: ds.0.color
                      value: 2196F3
                    - type: INTEGER
                      name: ds.0.fill
                      value: '1'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'Memory Utilization'
                    - type: INTEGER
                      name: ds.0.transparency
                      value: '0'
                    - type: INTEGER
                      name: ds.0.width
                      value: '3'
                    - type: STRING
                      name: lefty_max
                      value: '100'
                    - type: STRING
                      name: lefty_min
                      value: '0'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: JIANA
                    - type: INTEGER
                      name: righty
                      value: '0'
                    - type: INTEGER
                      name: severities.0
                      value: '1'
                    - type: INTEGER
                      name: severities.1
                      value: '2'
                    - type: INTEGER
                      name: severities.2
                      value: '3'
                    - type: INTEGER
                      name: severities.3
                      value: '4'
                    - type: INTEGER
                      name: severities.4
                      value: '5'
                    - type: INTEGER
                      name: show_problems
                      value: '1'
                - type: svggraph
                  name: 'NVR Latency'
                  'y': '10'
                  width: '30'
                  height: '5'
                  fields:
                    - type: STRING
                      name: ds.0.color
                      value: D4E157
                    - type: INTEGER
                      name: ds.0.fill
                      value: '1'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'TCP Performance Media'
                    - type: STRING
                      name: ds.0.items.1
                      value: 'TCP Performance Web'
                    - type: STRING
                      name: ds.0.items.2
                      value: 'Response time for step "Web Portal Performance" of scenario "Web Performance".'
                    - type: INTEGER
                      name: ds.0.transparency
                      value: '0'
                    - type: INTEGER
                      name: ds.0.width
                      value: '3'
                    - type: INTEGER
                      name: legend_lines
                      value: '3'
                    - type: INTEGER
                      name: legend_lines_mode
                      value: '1'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: or.0.color
                      value: FF9800
                    - type: STRING
                      name: or.0.items.0
                      value: 'TCP Performance Web'
                    - type: STRING
                      name: or.1.color
                      value: 4DB6AC
                    - type: STRING
                      name: or.1.items.0
                      value: 'Response time for step "NVR Web Performance" of scenario "NVR Web Performance".'
                    - type: STRING
                      name: reference
                      value: LKHZA
                    - type: INTEGER
                      name: righty
                      value: '0'
                    - type: INTEGER
                      name: severities.0
                      value: '2'
                    - type: INTEGER
                      name: severities.1
                      value: '3'
                    - type: INTEGER
                      name: severities.2
                      value: '4'
                    - type: INTEGER
                      name: severities.3
                      value: '5'
                    - type: INTEGER
                      name: show_problems
                      value: '1'
                    - type: INTEGER
                      name: simple_triggers
                      value: '1'
                - type: graphprototype
                  'y': '15'
                  width: '30'
                  height: '5'
                  fields:
                    - type: GRAPH_PROTOTYPE
                      name: graphid.0
                      value:
                        host: 'Intelbras Dahua NVR SNMP'
                        name: 'Disk Usage - {#DISK_NAME}'
                    - type: STRING
                      name: reference
                      value: AAAKP
                - type: honeycomb
                  name: 'Camera Status'
                  x: '30'
                  width: '8'
                  height: '15'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: FFD54F
                    - type: STRING
                      name: items.0
                      value: 'Camera * Status'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*) Status", \1)}'
                    - type: INTEGER
                      name: primary_label_size
                      value: '30'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: ZTYSN
                    - type: STRING
                      name: secondary_label_color
                      value: '093578'
                    - type: INTEGER
                      name: secondary_label_units_show
                      value: '0'
                    - type: STRING
                      name: thresholds.0.color
                      value: 0097A7
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '1'
                    - type: STRING
                      name: thresholds.1.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '2'
                - type: problems
                  name: 'Recent Events'
                  x: '30'
                  'y': '15'
                  width: '42'
                  height: '5'
                  fields:
                    - type: STRING
                      name: reference
                      value: UPVCJ
                    - type: INTEGER
                      name: show_opdata
                      value: '1'
                    - type: INTEGER
                      name: show_tags
                      value: '1'
                - type: item
                  name: 'NVR STATUS'
                  x: '38'
                  width: '11'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: B0BEC5
                    - type: INTEGER
                      name: decimal_size
                      value: '50'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Intelbras Dahua NVR SNMP'
                        key: enterprises.systemStatus
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: STRING
                      name: thresholds.0.color
                      value: 81C784
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: C62828
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '1'
                    - type: STRING
                      name: thresholds.2.color
                      value: F57C00
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '30'
                    - type: STRING
                      name: value_color
                      value: 5D4037
                    - type: INTEGER
                      name: value_size
                      value: '50'
                - type: item
                  name: 'NVR MODEL'
                  x: '38'
                  'y': '2'
                  width: '11'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: B0BEC5
                    - type: INTEGER
                      name: decimal_size
                      value: '50'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Intelbras Dahua NVR SNMP'
                        key: enterprises.deviceType
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '50'
                    - type: STRING
                      name: value_color
                      value: 5D4037
                    - type: INTEGER
                      name: value_size
                      value: '50'
                - type: graphprototype
                  x: '38'
                  'y': '4'
                  width: '34'
                  height: '11'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid.0
                      value:
                        host: 'Intelbras Dahua NVR SNMP'
                        name: 'Interface {#IFDESCR}: Network traffic'
                    - type: STRING
                      name: reference
                      value: AAAKO
                    - type: INTEGER
                      name: rows
                      value: '2'
                - type: item
                  name: 'NVR SNMP AVAILABILITY'
                  x: '49'
                  width: '11'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: B0BEC5
                    - type: INTEGER
                      name: decimal_size
                      value: '50'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Intelbras Dahua NVR SNMP'
                        key: 'zabbix[host,snmp,available]'
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: STRING
                      name: thresholds.0.color
                      value: C62828
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: 81C784
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '1'
                    - type: INTEGER
                      name: units_size
                      value: '30'
                    - type: STRING
                      name: value_color
                      value: 5D4037
                    - type: INTEGER
                      name: value_size
                      value: '50'
                - type: item
                  name: 'NVR IP'
                  x: '49'
                  'y': '2'
                  width: '11'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: B0BEC5
                    - type: INTEGER
                      name: decimal_size
                      value: '50'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Intelbras Dahua NVR SNMP'
                        key: enterprises.ipAddr
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '30'
                    - type: STRING
                      name: value_color
                      value: 5D4037
                    - type: INTEGER
                      name: value_size
                      value: '50'
                - type: item
                  name: 'NVR SERIAL NUMBER'
                  x: '60'
                  width: '12'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: B0BEC5
                    - type: INTEGER
                      name: decimal_size
                      value: '40'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Intelbras Dahua NVR SNMP'
                        key: enterprises.serialNumber
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '40'
                    - type: STRING
                      name: value_color
                      value: 5D4037
                    - type: INTEGER
                      name: value_size
                      value: '40'
                - type: item
                  name: 'NVR VERSION'
                  x: '60'
                  'y': '2'
                  width: '12'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: B0BEC5
                    - type: INTEGER
                      name: decimal_size
                      value: '40'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Intelbras Dahua NVR SNMP'
                        key: enterprises.systemVersion
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '40'
                    - type: STRING
                      name: value_color
                      value: 5D4037
                    - type: INTEGER
                      name: value_size
                      value: '40'
      valuemaps:
        - uuid: 9240b8f80583478aa92c39b710e96cda
          name: 'Camera Availability'
          mappings:
            - value: '0'
              newvalue: Connecting
            - value: '1'
              newvalue: Connected
            - value: '2'
              newvalue: Unconnect
            - value: '3'
              newvalue: Empty
            - value: '4'
              newvalue: Disable
        - uuid: fbe7c50c1cfc424ca684dc106fc05805
          name: 'Disk Status'
          mappings:
            - value: '0'
              newvalue: Error
            - value: '1'
              newvalue: Offline
            - value: '2'
              newvalue: Running
            - value: '3'
              newvalue: RaidSub
        - uuid: 46a8843d423340b18a28d644c5745898
          name: 'IF-MIB::ifAdminStatus'
          mappings:
            - value: '1'
              newvalue: Up
            - value: '2'
              newvalue: Down
            - value: '3'
              newvalue: Testing
        - uuid: a5af3687a2934e0b8d686d7cec7dd4ab
          name: 'IF-MIB::ifOperStatus'
          mappings:
            - value: '1'
              newvalue: Up
            - value: '2'
              newvalue: Down
            - value: '4'
              newvalue: Unknown
            - value: '5'
              newvalue: Dormant
            - value: '6'
              newvalue: NotPresent
            - value: '7'
              newvalue: LowerLayerDown
        - uuid: 4e22cbad0d9146059d9fbf89714e6461
          name: 'IF-MIB::ifType'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: regular1822
            - value: '3'
              newvalue: hdh1822
            - value: '4'
              newvalue: ddnX25
            - value: '5'
              newvalue: rfc877x25
            - value: '6'
              newvalue: ethernetCsmacd
            - value: '7'
              newvalue: iso88023Csmacd
            - value: '8'
              newvalue: iso88024TokenBus
            - value: '9'
              newvalue: iso88025TokenRing
            - value: '10'
              newvalue: iso88026Man
            - value: '11'
              newvalue: starLan
            - value: '12'
              newvalue: proteon10Mbit
            - value: '13'
              newvalue: proteon80Mbit
            - value: '14'
              newvalue: hyperchannel
            - value: '15'
              newvalue: fddi
            - value: '16'
              newvalue: lapb
            - value: '17'
              newvalue: sdlc
            - value: '18'
              newvalue: ds1
            - value: '19'
              newvalue: e1
            - value: '20'
              newvalue: basicISDN
            - value: '21'
              newvalue: primaryISDN
            - value: '22'
              newvalue: propPointToPointSerial
            - value: '23'
              newvalue: ppp
            - value: '24'
              newvalue: softwareLoopback
            - value: '25'
              newvalue: eon
            - value: '26'
              newvalue: ethernet3Mbit
            - value: '27'
              newvalue: nsip
            - value: '28'
              newvalue: slip
            - value: '29'
              newvalue: ultra
            - value: '30'
              newvalue: ds3
            - value: '31'
              newvalue: sip
            - value: '32'
              newvalue: frameRelay
            - value: '33'
              newvalue: rs232
            - value: '34'
              newvalue: para
            - value: '35'
              newvalue: arcnet
            - value: '36'
              newvalue: arcnetPlus
            - value: '37'
              newvalue: atm
            - value: '38'
              newvalue: miox25
            - value: '39'
              newvalue: sonet
            - value: '40'
              newvalue: x25ple
            - value: '41'
              newvalue: iso88022llc
            - value: '42'
              newvalue: localTalk
            - value: '43'
              newvalue: smdsDxi
            - value: '44'
              newvalue: frameRelayService
            - value: '45'
              newvalue: v35
            - value: '46'
              newvalue: hssi
            - value: '47'
              newvalue: hippi
            - value: '48'
              newvalue: modem
            - value: '49'
              newvalue: aal5
            - value: '50'
              newvalue: sonetPath
            - value: '51'
              newvalue: sonetVT
            - value: '52'
              newvalue: smdsIcip
            - value: '53'
              newvalue: propVirtual
            - value: '54'
              newvalue: propMultiplexor
            - value: '55'
              newvalue: ieee80212
            - value: '56'
              newvalue: fibreChannel
            - value: '57'
              newvalue: hippiInterface
            - value: '58'
              newvalue: frameRelayInterconnect
            - value: '59'
              newvalue: aflane8023
            - value: '60'
              newvalue: aflane8025
            - value: '61'
              newvalue: cctEmul
            - value: '62'
              newvalue: fastEther
            - value: '63'
              newvalue: isdn
            - value: '64'
              newvalue: v11
            - value: '65'
              newvalue: v36
            - value: '66'
              newvalue: g703at64k
            - value: '67'
              newvalue: g703at2mb
            - value: '68'
              newvalue: qllc
            - value: '69'
              newvalue: fastEtherFX
            - value: '70'
              newvalue: channel
            - value: '71'
              newvalue: ieee80211
            - value: '72'
              newvalue: ibm370parChan
            - value: '73'
              newvalue: escon
            - value: '74'
              newvalue: dlsw
            - value: '75'
              newvalue: isdns
            - value: '76'
              newvalue: isdnu
            - value: '77'
              newvalue: lapd
            - value: '78'
              newvalue: ipSwitch
            - value: '79'
              newvalue: rsrb
            - value: '80'
              newvalue: atmLogical
            - value: '81'
              newvalue: ds0
            - value: '82'
              newvalue: ds0Bundle
            - value: '83'
              newvalue: bsc
            - value: '84'
              newvalue: async
            - value: '85'
              newvalue: cnr
            - value: '86'
              newvalue: iso88025Dtr
            - value: '87'
              newvalue: eplrs
            - value: '88'
              newvalue: arap
            - value: '89'
              newvalue: propCnls
            - value: '90'
              newvalue: hostPad
            - value: '91'
              newvalue: termPad
            - value: '92'
              newvalue: frameRelayMPI
            - value: '93'
              newvalue: x213
            - value: '94'
              newvalue: adsl
            - value: '95'
              newvalue: radsl
            - value: '96'
              newvalue: sdsl
            - value: '97'
              newvalue: vdsl
            - value: '98'
              newvalue: iso88025CRFPInt
            - value: '99'
              newvalue: myrinet
            - value: '100'
              newvalue: voiceEM
            - value: '101'
              newvalue: voiceFXO
            - value: '102'
              newvalue: voiceFXS
            - value: '103'
              newvalue: voiceEncap
            - value: '104'
              newvalue: voiceOverIp
            - value: '105'
              newvalue: atmDxi
            - value: '106'
              newvalue: atmFuni
            - value: '107'
              newvalue: atmIma
            - value: '108'
              newvalue: pppMultilinkBundle
            - value: '109'
              newvalue: ipOverCdlc
            - value: '110'
              newvalue: ipOverClaw
            - value: '111'
              newvalue: stackToStack
            - value: '112'
              newvalue: virtualIpAddress
            - value: '113'
              newvalue: mpc
            - value: '114'
              newvalue: ipOverAtm
            - value: '115'
              newvalue: iso88025Fiber
            - value: '116'
              newvalue: tdlc
            - value: '117'
              newvalue: gigabitEthernet
            - value: '118'
              newvalue: hdlc
            - value: '119'
              newvalue: lapf
            - value: '120'
              newvalue: v37
            - value: '121'
              newvalue: x25mlp
            - value: '122'
              newvalue: x25huntGroup
            - value: '123'
              newvalue: trasnpHdlc
            - value: '124'
              newvalue: interleave
            - value: '125'
              newvalue: fast
            - value: '126'
              newvalue: ip
            - value: '127'
              newvalue: docsCableMaclayer
            - value: '128'
              newvalue: docsCableDownstream
            - value: '129'
              newvalue: docsCableUpstream
            - value: '130'
              newvalue: a12MppSwitch
            - value: '131'
              newvalue: tunnel
            - value: '132'
              newvalue: coffee
            - value: '133'
              newvalue: ces
            - value: '134'
              newvalue: atmSubInterface
            - value: '135'
              newvalue: l2vlan
            - value: '136'
              newvalue: l3ipvlan
            - value: '137'
              newvalue: l3ipxvlan
            - value: '138'
              newvalue: digitalPowerline
            - value: '139'
              newvalue: mediaMailOverIp
            - value: '140'
              newvalue: dtm
            - value: '141'
              newvalue: dcn
            - value: '142'
              newvalue: ipForward
            - value: '143'
              newvalue: msdsl
            - value: '144'
              newvalue: ieee1394
            - value: '145'
              newvalue: if-gsn
            - value: '146'
              newvalue: dvbRccMacLayer
            - value: '147'
              newvalue: dvbRccDownstream
            - value: '148'
              newvalue: dvbRccUpstream
            - value: '149'
              newvalue: atmVirtual
            - value: '150'
              newvalue: mplsTunnel
            - value: '151'
              newvalue: srp
            - value: '152'
              newvalue: voiceOverAtm
            - value: '153'
              newvalue: voiceOverFrameRelay
            - value: '154'
              newvalue: idsl
            - value: '155'
              newvalue: compositeLink
            - value: '156'
              newvalue: ss7SigLink
            - value: '157'
              newvalue: propWirelessP2P
            - value: '158'
              newvalue: frForward
            - value: '159'
              newvalue: rfc1483
            - value: '160'
              newvalue: usb
            - value: '161'
              newvalue: ieee8023adLag
            - value: '162'
              newvalue: bgppolicyaccounting
            - value: '163'
              newvalue: frf16MfrBundle
            - value: '164'
              newvalue: h323Gatekeeper
            - value: '165'
              newvalue: h323Proxy
            - value: '166'
              newvalue: mpls
            - value: '167'
              newvalue: mfSigLink
            - value: '168'
              newvalue: hdsl2
            - value: '169'
              newvalue: shdsl
            - value: '170'
              newvalue: ds1FDL
            - value: '171'
              newvalue: pos
            - value: '172'
              newvalue: dvbAsiIn
            - value: '173'
              newvalue: dvbAsiOut
            - value: '174'
              newvalue: plc
            - value: '175'
              newvalue: nfas
            - value: '176'
              newvalue: tr008
            - value: '177'
              newvalue: gr303RDT
            - value: '178'
              newvalue: gr303IDT
            - value: '179'
              newvalue: isup
            - value: '180'
              newvalue: propDocsWirelessMaclayer
            - value: '181'
              newvalue: propDocsWirelessDownstream
            - value: '182'
              newvalue: propDocsWirelessUpstream
            - value: '183'
              newvalue: hiperlan2
            - value: '184'
              newvalue: propBWAp2Mp
            - value: '185'
              newvalue: sonetOverheadChannel
            - value: '186'
              newvalue: digitalWrapperOverheadChannel
            - value: '187'
              newvalue: aal2
            - value: '188'
              newvalue: radioMAC
            - value: '189'
              newvalue: atmRadio
            - value: '190'
              newvalue: imt
            - value: '191'
              newvalue: mvl
            - value: '192'
              newvalue: reachDSL
            - value: '193'
              newvalue: frDlciEndPt
            - value: '194'
              newvalue: atmVciEndPt
            - value: '195'
              newvalue: opticalChannel
            - value: '196'
              newvalue: opticalTransport
            - value: '197'
              newvalue: propAtm
            - value: '198'
              newvalue: voiceOverCable
            - value: '199'
              newvalue: infiniband
            - value: '200'
              newvalue: teLink
            - value: '201'
              newvalue: q2931
            - value: '202'
              newvalue: virtualTg
            - value: '203'
              newvalue: sipTg
            - value: '204'
              newvalue: sipSig
            - value: '205'
              newvalue: docsCableUpstreamChannel
            - value: '206'
              newvalue: econet
            - value: '207'
              newvalue: pon155
            - value: '208'
              newvalue: pon622
            - value: '209'
              newvalue: bridge
            - value: '210'
              newvalue: linegroup
            - value: '211'
              newvalue: voiceEMFGD
            - value: '212'
              newvalue: voiceFGDEANA
            - value: '213'
              newvalue: voiceDID
            - value: '214'
              newvalue: mpegTransport
            - value: '215'
              newvalue: sixToFour
            - value: '216'
              newvalue: gtp
            - value: '217'
              newvalue: pdnEtherLoop1
            - value: '218'
              newvalue: pdnEtherLoop2
            - value: '219'
              newvalue: opticalChannelGroup
            - value: '220'
              newvalue: homepna
            - value: '221'
              newvalue: gfp
            - value: '222'
              newvalue: ciscoISLvlan
            - value: '223'
              newvalue: actelisMetaLOOP
            - value: '224'
              newvalue: fcipLink
            - value: '225'
              newvalue: rpr
            - value: '226'
              newvalue: qam
            - value: '227'
              newvalue: lmp
            - value: '228'
              newvalue: cblVectaStar
            - value: '229'
              newvalue: docsCableMCmtsDownstream
            - value: '230'
              newvalue: adsl2
            - value: '231'
              newvalue: macSecControlledIF
            - value: '232'
              newvalue: macSecUncontrolledIF
            - value: '233'
              newvalue: aviciOpticalEther
            - value: '234'
              newvalue: atmbond
            - value: '235'
              newvalue: voiceFGDOS
            - value: '236'
              newvalue: mocaVersion1
            - value: '237'
              newvalue: ieee80216WMAN
            - value: '238'
              newvalue: adsl2plus
            - value: '239'
              newvalue: dvbRcsMacLayer
            - value: '240'
              newvalue: dvbTdm
            - value: '241'
              newvalue: dvbRcsTdma
            - value: '242'
              newvalue: x86Laps
            - value: '243'
              newvalue: wwanPP
            - value: '244'
              newvalue: wwanPP2
            - value: '245'
              newvalue: voiceEBS
            - value: '246'
              newvalue: ifPwType
            - value: '247'
              newvalue: ilan
            - value: '248'
              newvalue: pip
            - value: '249'
              newvalue: aluELP
            - value: '250'
              newvalue: gpon
            - value: '251'
              newvalue: vdsl2
            - value: '252'
              newvalue: capwapDot11Profile
            - value: '253'
              newvalue: capwapDot11Bss
            - value: '254'
              newvalue: capwapWtpVirtualRadio
            - value: '255'
              newvalue: bits
            - value: '256'
              newvalue: docsCableUpstreamRfPort
            - value: '257'
              newvalue: cableDownstreamRfPort
            - value: '258'
              newvalue: vmwareVirtualNic
            - value: '259'
              newvalue: ieee802154
            - value: '260'
              newvalue: otnOdu
            - value: '261'
              newvalue: otnOtu
            - value: '262'
              newvalue: ifVfiType
            - value: '263'
              newvalue: g9981
            - value: '264'
              newvalue: g9982
            - value: '265'
              newvalue: g9983
            - value: '266'
              newvalue: aluEpon
            - value: '267'
              newvalue: aluEponOnu
            - value: '268'
              newvalue: aluEponPhysicalUni
            - value: '269'
              newvalue: aluEponLogicalLink
            - value: '270'
              newvalue: aluGponOnu
            - value: '271'
              newvalue: aluGponPhysicalUni
            - value: '272'
              newvalue: vmwareNicTeam
            - value: '277'
              newvalue: docsOfdmDownstream
            - value: '278'
              newvalue: docsOfdmaUpstream
            - value: '279'
              newvalue: gfast
            - value: '280'
              newvalue: sdci
            - value: '281'
              newvalue: xboxWireless
            - value: '282'
              newvalue: fastdsl
            - value: '283'
              newvalue: docsCableScte55d1FwdOob
            - value: '284'
              newvalue: docsCableScte55d1RetOob
            - value: '285'
              newvalue: docsCableScte55d2DsOob
            - value: '286'
              newvalue: docsCableScte55d2UsOob
            - value: '287'
              newvalue: docsCableNdf
            - value: '288'
              newvalue: docsCableNdr
            - value: '289'
              newvalue: ptm
            - value: '290'
              newvalue: ghn
        - uuid: 159905aedeb5408cad459da9ae408701
          name: 'NVR Device Status'
          mappings:
            - value: '0'
              newvalue: Bad
            - value: '1'
              newvalue: Good
        - uuid: bc96ddf3a7c2411f8c4109a35b1cafcf
          name: 'NVR System Status'
          mappings:
            - value: '0'
              newvalue: Online
            - value: '1'
              newvalue: Offline
            - value: '2'
              newvalue: Reboot
        - uuid: 18fb1eb55c3c400fa4dc135cae6903a9
          name: 'SNMP Availability'
          mappings:
            - value: '1'
              newvalue: Available
            - value: '0'
              newvalue: Unavailable
            - value: '2'
              newvalue: Unknown
  graphs:
    - uuid: 3355f947691d4cfca90351c998355b69
      name: 'CPU Utilization'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Intelbras Dahua NVR SNMP'
            key: enterprises.cpuUsage
    - uuid: f3ec20f890af4f41830c213bf9fc8eb7
      name: 'Memory Utilization'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Intelbras Dahua NVR SNMP'
            key: enterprises.memoryUsage
    - uuid: 881fa2b54a7b499e8c0c9a25ebf6e8ab
      name: 'Response Time'
      ymin_type_1: FIXED
      graph_items:
        - drawtype: FILLED_REGION
          color: FFAB91
          item:
            host: 'Intelbras Dahua NVR SNMP'
            key: 'web.test.time[Web Performance,Web Portal Performance,resp]'
        - sortorder: '2'
          drawtype: BOLD_LINE
          color: 8F2809
          item:
            host: 'Intelbras Dahua NVR SNMP'
            key: 'net.tcp.service.perf[tcp,,{$MEDIA_PORT}]'
        - sortorder: '3'
          drawtype: BOLD_LINE
          color: 00BCD4
          item:
            host: 'Intelbras Dahua NVR SNMP'
            key: 'net.tcp.service.perf[tcp,,{$WEB_PORT}]'
